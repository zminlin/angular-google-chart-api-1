(function(){angular.module("ngGoogleChart",[]).value("googleChartApiConfig",{version:"1",optionalSettings:{packages:["corechart"]}}).provider("googleChartJsApiUrl",function(){var a="https://",b="www.google.com/jsapi";this.setProtocol=function(b){a=b},this.setUrl=function(a){b=a},this.$get=function(){return(a?a:"")+b}}).factory("googleChartApiPromise",["$rootScope","$q","googleChartApiConfig","googleChartJsApiUrl",function(a,b,c,d){var e=b.defer(),f=function(){var b={callback:function(){var b=c.optionalSettings.callback;a.$apply(function(){e.resolve()}),angular.isFunction(b)&&b.call(this)}};b=angular.extend({},c.optionalSettings,b),window.google.load("visualization",c.version,b)},g=document.getElementsByTagName("head")[0],h=document.createElement("script");return h.setAttribute("type","text/javascript"),h.src=d,h.addEventListener?h.addEventListener("load",f,!1):h.onreadystatechange=function(){("loaded"===h.readyState||"complete"===h.readyState)&&(h.onreadystatechange=null,f())},g.appendChild(h),e.promise}]).directive("ngGoogleChart",["$timeout","$window","$rootScope","googleChartApiPromise",function(a,b,c,d){return{restrict:"A",scope:{chart:"=chart",imgURI:"=imguri",csv:"=csv"},link:function(a,c){a.$watch("chart",function(){angular.isDefined(a.chart)&&f()});var e=function(b){var c=a.chart.options,d=new google.visualization.DataTable(a.chart.data);b.draw(d,c),a.imgURI=b.getImageURI(),a.csv=google.visualization.dataTableToCsv(d)};a.$watch(function(){return b.innerWidth},function(){angular.isDefined(a.chart)&&f()});var f=function(){var b;if(angular.isDefined(a.chart.type)){var f=a.chart.type;d.then(function(){switch(f){case"PieChart":b=new google.visualization.PieChart(c[0]),e(b);break;case"LineChart":b=new google.visualization.LineChart(c[0]),e(b);break;default:var d={chartType:f,dataTable:a.chart.data,containerId:c[0],options:a.chart.options};b=new google.visualization.ChartWrapper(d),b.draw()}})}}}}}])}).call(this);